# mod.yml - 文件日志示例配置
# 演示如何配置MOD框架的文件日志功能

# 应用基本信息
app:
  name: "file-logging-demo"
  display_name: "文件日志演示"
  description: "演示MOD框架文件日志功能的示例应用"
  version: "1.0.0"
  service_path_prefix: "/services"
  token_keys:
    - "Authorization"
    - "X-API-Key"

  # 服务器配置
  host: "0.0.0.0"
  port: 8081
  read_timeout: "30s"
  write_timeout: "30s"
  idle_timeout: "60s"
  body_limit: "100MB"

# 日志配置（演示多种输出方式）
logging:
  # 控制台日志输出
  console:
    enabled: true                    # 启用控制台日志
    level: "info"                    # 日志级别: debug, info, warn, error

  # 文件日志输出
  file:
    enabled: true                    # 启用文件日志
    path: "./logs/app.log"           # 日志文件路径
    max_size: "100MB"                # 单个日志文件最大大小
    max_backups: 10                  # 保留的历史日志文件数量
    max_age: "30d"                   # 日志文件保留天数
    compress: true                   # 是否压缩历史日志文件

# 文件上传配置（保留基本配置）
file_upload:
  local:
    enabled: true
    upload_dir: "./uploads"
    max_size: "10MB"
    allowed_types:
      - "image/jpeg"
      - "image/png"
      - "application/pdf"
      - "text/plain"
    allowed_exts:
      - ".jpg"
      - ".jpeg"
      - ".png"
      - ".pdf"
      - ".txt"
    keep_original_name: false
    auto_create_dir: true
    date_sub_dir: true

# 静态资源挂载配置
static_mounts:
  - url_prefix: "/uploads"
    local_path: "./uploads"
    browseable: true
    index_file: ""

# 缓存配置（用于演示日志记录）
cache:
  bigcache:
    enabled: true
    shards: 128
    life_window: "10m"
    clean_window: "5m"
    max_entries_in_window: 1000
    max_entry_size: 500
    verbose: false
    hard_max_cache_size: 8192